%PSEUDOCODE FOR GAME
%1. make a grid
%2. Initialize everything (x max, x y, plot morty and villains)
%3. make movement of characters possible
%4. if morty's coordinates = villain's coordinates
%   game over
% maybe do a while loop? while morty's coordinates ~= villain's coordinates
% and then do the main game loop?
% at x max you win? or a certain column
% add sound and images
% joystick and buttons


% create world
close all
fig = figure(1);
ax = axes(fig)
ax.XLim = [0 100];
ax.YLim = [-40 40];
ax.DataAspectRatio = [1 1 1];

% connect game pad to world
gamepad = KeyboardEmulator(fig);

% create blue square and move it to ax
f2 = figure(2);
hblue = fill([0 1 1 0 0],[0 0 1 1 0],'b'); %hblue is the square (main character)
hblue.Parent = ax;
close(f2);

%create villain
f3 = figure(3);
villain = fill([0 1 1 0 0],[0 0 1 1 0],'g');
villain.Parent = ax;
villain.XData = villain.XData + 20; 
villain.YData = villain.YData + 40;
close(f3);



%move villain

%HOW CAN I MAKE MULTIPLE VILLAINS MOVE SIMULTANEOUSLY??


%Initialize villain movement
    y0 = 20;
    x0 = 0;
    x = 25
    y = y0;
    v = -2;      %edit velocity here                


% main game loop
while(1)
    
%Make morty move

    gamepad.update()
    
    hblue.XData = hblue.XData + gamepad.jlx;
    hblue.YData = hblue.YData + gamepad.jly;
    
    pause(0.1);
    

%Move villain

       villain.YData = villain.YData + v; %get the villain moving down

       if (max(villain.YData)>=20) %villain moves down from y=20
           y0 = 20;
           x0 = 0;
           v = -2;
       end

       if (min(villain.YData)<=-20) %villain moves up from y=-20
           y0 = -20;
           x0 = 0;
           v = 2;
       end

end
